<div class="wrapper flex flex-column w-screen h-screen overflow-x-hidden"
    [ngStyle]="{'background-image': project?.color !== null ? 'url(../../../assets/image/'+project?.color+'.png)':'url(../../../assets/image/background_header.png) '}">
    <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5 p-5">
        <i class="pi pi-angle-left" style="font-size: 2rem; color: #fff" (click)="return_layout_home()"></i>
        <div pRipple class="outline w-4rem h-4rem border-circle border-3 p-1"
            [ngStyle]="{ 'border-color': project?.color}" (click)="showInfo()" *ngIf="userProfile?.image">
            <img class="w-full h-full border-circle" [src]="userProfile?.image" alt="">
        </div>
        <!-- <div class="w-fit h-fit border-circle" style="border-color: #F1F5FF">
            <p-avatar pRipple
                [image]="userProfile?.image" 
                size="large" 
                shape="circle"
                (click)="showInfo()" />
        </div> -->
    </div>
    <div class="flex flex-column w-full h-fit align-items-start justify-content-between px-5 py-2">
        <div class="flex flex-column align-items-start text-white">
            <p class="name text-4xl font-bold mb-1">{{userProfile?.employee_name}}</p>
            <p-skeleton width="11rem" height="2rem" styleClass="mb-1" *ngIf="!userProfile?.employee_name" />

            <p class="name text-xl mb-1 font-semibold">{{userProfile?.employee_type_name}}</p>
            <p-skeleton width="5rem" height="1rem" styleClass="mb-1" *ngIf="!userProfile?.employee_type_name" />

            <!-- <p class="name text-lg">{{userProfile?.employee_code}}</p>
            <p-skeleton width="3rem" height="0.5rem" *ngIf="!userProfile?.employee_code" /> -->
        </div>
    </div>
    <div class="wrapper-menu w-full h-full">
        <p-scrollPanel [style]="{ width: '100%', height: '100%', padding: '0px', margin: '0px' }">
            <div class="container w-10 h-full pt-6 pb-5" *ngIf="menuItem?.length > 0">
                <div pRipple
                    class="item flex flex-column align-items-center justify-content-center gap-3 w-full shadow-6"
                    *ngFor="let item of menuItem" (click)="showDialog(item.function_name)">
                    <img style="width: 50%" [src]="item.image" alt="">
                    <p class="text-base font-bold m-0">{{item.function_name}}</p>
                </div>
            </div>
            <div class="container w-10 h-full pt-6 pb-5" *ngIf="menuItem === undefined">
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
                <p-skeleton styleClass="m-2 w-full h-full border-round-3xl" />
            </div>
            <div class="w-full h-full text-lg font-bold mt-3" *ngIf="menuItem?.length === 0">
                <p class="text-center">Chưa được phân quyền</p>
            </div>
        </p-scrollPanel>
    </div>
</div>

<!-- Info -->
<p-sidebar [(visible)]="dialogInfo" [fullScreen]="true" [showCloseIcon]="false"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeInfo()"></i>
            <p class="text-center text-2xl font-bold">Thông tin chi tiết</p>
            <i class="pi pi-pencil" style="font-size: 1.5rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-screen">
        <app-detail-info></app-detail-info>
    </ng-template>
</p-sidebar>

<!-- Employees -->
<p-sidebar [(visible)]="dialogEmployee" [fullScreen]="true" [showCloseIcon]="false"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeDialogEmployee()"></i>
            <p class="text-center text-2xl font-bold">Danh sách nhân viên</p>
            <i class="pi pi-bell" style="font-size: 2rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
        <app-employees-report></app-employees-report>
    </ng-template>
    <!-- <ng-template pTemplate="footer" class="card">
        <p-tabMenu [model]="items" [activeItem]="activeItem" (activeItemChange)="onActiveItemChange($event)">
            <ng-template pTemplate="item" let-item> 
                <div pRipple class="flex flex-column align-items-center gap-2 p-menuitem-link">
                    <i [class]="item.icon" style="font-size: 1.4rem"></i>
                    <span class="text-base font-bold">
                        {{ item.label }}
                    </span>
                </div>
            </ng-template>
        </p-tabMenu>
    </ng-template> -->
</p-sidebar>

<!-- Attendance Report -->
<p-sidebar [(visible)]="dialogAttendanceReport" [fullScreen]="true" [showCloseIcon]="false"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeDialogAttendanceReport()"></i>
            <p class="text-center text-2xl font-bold">Báo cáo chấm công</p>
            <i class="pi pi-bell" style="font-size: 2rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
        <app-attendance-report></app-attendance-report>
    </ng-template>
</p-sidebar>

<!-- Sellout Report -->
<p-sidebar [(visible)]="dialogSelloutReport" [fullScreen]="true" [showCloseIcon]="false"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeDialogSellOutReport()"></i>
            <p class="text-center text-2xl font-bold">Báo cáo chỉ tiêu bán hàng</p>
            <i class="pi pi-bell" style="font-size: 2rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
        <app-sellout-report></app-sellout-report>
    </ng-template>
</p-sidebar>

<!-- Process -->
<!-- <p-sidebar [(visible)]="dialogSelloutReport" [fullScreen]="true" [showCloseIcon]="false"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeDialogSellOutReport()"></i>
            <p class="text-center text-2xl font-bold">Lịch làm việc</p>
            <i class="pi pi-bell" style="font-size: 2rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
     
    </ng-template>
</p-sidebar> -->
