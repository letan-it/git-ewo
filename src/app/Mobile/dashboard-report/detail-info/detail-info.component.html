<div class="wrapper flex flex-column w-full h-full">
    <div class="group-avatar flex flex-row align-items-end justify-content-start gap-1">
        <div class="avatar w-9rem h-9rem mb-3 mx-3">
            <div class="outline w-full h-full border-circle border-3 p-1" [ngStyle]="{ 'border-color': project?.color}"
                *ngIf="employee_info?.image">
                <img class="w-full h-full border-circle" [src]="employee_info?.image" alt="">
            </div>
            <div class="outline w-full h-full border-circle border-3 border-gray-500 p-1" *ngIf="!employee_info?.image">
                <p-skeleton shape="circle" size="8rem" />
            </div>
        </div>

        <div class="avatar w-4rem h-4rem mb-3 mx-1" *ngIf="employee_info?.image_face_left !== null">
            <div class="outline w-full h-full border-circle border-3 p-1" [ngStyle]="{ 'border-color': project?.color}"
                *ngIf="employee_info?.image">
                <img class="w-full h-full border-circle" [src]="employee_info?.image_face_left" alt="">
            </div>
            <div class="outline w-full h-full border-circle border-3 border-gray-500 p-1"
                *ngIf="!employee_info?.image_face_left">
                <p-skeleton shape="circle" size="3rem" />
            </div>
        </div>

        <div class="avatar w-4rem h-4rem mb-3 mx-1" *ngIf="employee_info?.image_face_right !== null">
            <div class="outline w-full h-full border-circle border-3 p-1" [ngStyle]="{ 'border-color': project?.color}"
                *ngIf="employee_info?.image">
                <img class="w-full h-full border-circle" [src]="employee_info?.image_face_right" alt="">
            </div>
            <div class="outline w-full h-full border-circle border-3 border-gray-500 p-1"
                *ngIf="!employee_info?.image_face_right">
                <p-skeleton shape="circle" size="3rem" />
            </div>
        </div>
    </div>

    <div class="flex flex-row align-items-center justify-content-between mb-4 mx-4">
        <div class="flex flex-column align-items-start">
            <p class="name text-2xl font-bold mb-1">{{employee_info?.employee_name}}</p>
            <p-skeleton width="10rem" height="2rem" styleClass="mb-1" *ngIf="!employee_info?.employee_name" />

            <p class="name text-lg mb-1 font-semibold">{{employee_info?.employee_type_name}}</p>
            <p-skeleton width="5rem" height="1rem" styleClass="mb-1" *ngIf="!employee_info?.employee_type_name" />

            <p class="name text-lg mb-1">{{employee_info?.employee_code}}</p>
            <p-skeleton width="3rem" height="0.5rem" styleClass="mb-1" *ngIf="!employee_info?.employee_code" />
        </div>

        <div class="flex flex-row align-items-center justify-content-between w-fit h-fit gap-4">
            <i class="pi pi-phone" style="font-size: 1.8rem;" [ngStyle]="{ 'color': project?.color}"
                pTooltip="{{employee_info?.mobile}}"></i>
            <i class="pi pi-envelope" style="font-size: 1.8rem;" [ngStyle]="{ 'color': project?.color}"
                pTooltip="{{employee_info?.email}}"></i>
        </div>
    </div>

    <div pRipple *ngFor="let item of menuItem"
        class="menu-item flex flex-row align-items-center justify-content-between p-3 mb-4"
        (click)="openDialog(item.name)">
        <div class="flex flex-row align-items-center gap-3">
            <!-- <div class="flex align-items-center justify-content-center w-3rem h-3rem border-circle" [style]="{'background-color': item.backGround}">
                <i [class]="item.icon" style="font-size: 1.4rem" [style]="{'color': item.color}"></i>
            </div> -->
            <i [class]="item.icon" style="font-size: 1.5rem" [style]="{'color': item.color}"></i>
            <p class="text-lg font-bold m-0">{{item.name}}</p>
        </div>
        <i *ngIf="item.name !== 'Log out'" class="pi pi-angle-right" style="font-size: 2rem"></i>
    </div>
</div>

<!-- Edit profile -->
<p-sidebar [(visible)]="dialogEditProfile" [fullScreen]="true" [showCloseIcon]="false" appendTo="body"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeEditProfile()"></i>
            <p class="text-center text-2xl font-bold">Thông tin cá nhân</p>
            <i class="pi pi-pencil" style="font-size: 1.5rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
        <app-edit-profile></app-edit-profile>
    </ng-template>
</p-sidebar>

<!-- Password -->
<p-sidebar [(visible)]="dialogPassword" [fullScreen]="true" [showCloseIcon]="false" appendTo="body"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closePassword()"></i>
            <p class="text-center text-2xl font-bold">Mật khẩu</p>
            <i class="pi pi-pencil" style="font-size: 1.5rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
        <app-password></app-password>
    </ng-template>
</p-sidebar>

<!-- Device Info -->
<p-sidebar [(visible)]="dialogDeviceInfo" [fullScreen]="true" [showCloseIcon]="false" appendTo="body"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeDeviceInfo()"></i>
            <p class="text-center text-2xl font-bold">Thông tin thiết bị</p>
            <i class="pi pi-pencil" style="font-size: 1.5rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
        <app-device-info></app-device-info>
    </ng-template>
</p-sidebar>

<!-- Location -->

<!-- Manager -->
<p-sidebar [(visible)]="dialogManager" [fullScreen]="true" [showCloseIcon]="false" appendTo="body"
    [style]="{ width: '100vw', height: '100vh', padding: '0px', margin: '0px', backgroundColor: '#F1F5FF' }">
    <ng-template pTemplate="header">
        <div class="flex flex-row w-full h-fit align-items-start justify-content-between mt-5">
            <i class="pi pi-angle-left" style="font-size: 2rem" (click)="closeManager()"></i>
            <p class="text-center text-2xl font-bold">Quản lý</p>
            <i class="pi pi-pencil" style="font-size: 1.5rem; color: transparent;"></i>
        </div>
    </ng-template>
    <ng-template pTemplate="headless" class="w-full">
        <app-manager></app-manager>
    </ng-template>
</p-sidebar>
