<div class="card">
    <p-tabView styleClass="tabview-custom">
        <p-tabPanel header="EMP_BY_DATE">
            <div>
                <div class="row">
                    <div class="col-12">
                        <p-table
                            #dt1
                            [value]="data"
                            dataKey="working_plan"
                            [rows]="10"
                            [rowsPerPageOptions]="[10, 25, 50]"
                            [loading]="loading"
                            [paginator]="true"
                            [globalFilterFields]="[
                                'plan_date',
                                'empCode',
                                'result'
                            ]"
                            styleClass="p-datatable-gridlines"
                        >
                            <ng-template pTemplate="caption">
                                <div class="flex">
                                    <p-button
                                        label="Clear"
                                        icon="pi pi-filter-slash"
                                        (click)="clear(dt1)"
                                    />
                                    <span class="p-input-icon-left ml-auto">
                                        <i class="pi pi-search"></i>
                                        <input
                                            #searchInput
                                            pInputText
                                            type="text"
                                            [(ngModel)]="searchValue"
                                            (input)="
                                                dt1.filterGlobal(
                                                    searchInput.value,
                                                    'contains'
                                                )
                                            "
                                            placeholder="Search keyword"
                                        />
                                    </span>
                                </div>
                            </ng-template>
                            <ng-template pTemplate="header">
                                <tr>
                                    <th style="min-width: 5rem">
                                        <div class="text-center">
                                            STT
                                        </div>
                                    </th>
                                    <th style="min-width: 8rem">
                                        <div class="text-center">
 
                                            Nhân viên
                                            <p-columnFilter
                                                type="text"
                                                field="_emp"
                                                display="menu"
                                            />
                                        </div>
                                    </th>
                                    <!-- <th style="min-width: 8rem">
                                        <div class="text-center">
                                            Tên nhân viên
                                            <p-columnFilter
                                                type="text"
                                                field="emp_name"
                                                display="menu"
                                            />
                                        </div>
                                    </th> -->
                                    <th style="min-width: 15rem">
                                        <div class="text-center">
                                            Đã chấm công
                                            <p-columnFilter
                                                type="boolean"
                                                field="result"
                                                display="menu"
                                            />
                                        </div>
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template
                                pTemplate="body"
                                let-rowIndex="rowIndex"
                                let-item
                            >
                                <tr>
                                    <td  class="text-center" >{{ rowIndex + 1 }}</td> 
                                    <td>
                                        <img (click)="showImage(item.employee_image)" (error)="
                                        onImageError(
                                            $event,
                                            item
                                        )
                                    " shape="circle"  [src]="item.employee_image" 
                                        [class]="'flag flag-dz styleImage'"   />
                                        <span class="ml-1 vertical-align-middle">
                                                    <span style="color: green" class="font-bold"
                                                    >[{{ item.employee_id }}]</span >
                                                    - {{ item.working_plan }} -
                                                    {{ item.emp_name }}
                                        </span>
                                    </td>
                                     
                                    <td class="text-center">
                                        <i
                                            *ngIf="item.result"
                                            class="pi pi-check"
                                            style="color: green"
                                        ></i>
                                        <i
                                            *ngIf="!item.result"
                                            class="pi pi-times"
                                            style="color: red"
                                        ></i>
                                    </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="emptymessage">
                                <tr>
                                    <td colspan="7">No data.</td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </div>
        </p-tabPanel>
    </p-tabView>
</div>
