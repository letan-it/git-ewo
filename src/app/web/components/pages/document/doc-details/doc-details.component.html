<p-toast />
<p-confirmPopup />

<div class="grid">
    <div class="col-12 md:col-6">
        <div class="card">
            <div class="row flex-column">
                <div class="md:col-12">
                    <h6> Group Code<span  style="color: red; font-weight: bold"> *</span> </h6>  
                    <input
                        [style]="{ minWidth: '100%' }"
                        type="text"  pInputText [(ngModel)]="data.group_code"  
                    />
                </div>
                <div class="md:col-12">
                    <h6>  Group Name </h6>
                    <input
                        [style]="{ minWidth: '100%' }"
                        type="text"  pInputText
                        [(ngModel)]="data.file_group" 
                    />
                </div>

                <div class="md:col-12">
                    <h6>File Name<span  style="color: red; font-weight: bold" > *</span  ></h6>
                    <input
                        [style]="{ minWidth: '100%' }"  type="text" pInputText [(ngModel)]="data.file_name" 
                    />
                </div>
            </div>
        </div> 
    </div>
    <div class="md:col-6 col-12">
        <div class="card">
            <div class="row flex-wrap">
                <div class="col-12">
                    <div class="field p-fluid">  
                        <div class="p-formgrid grid flex-column">
                            <div class="field col-12  m-0">
                                <h5>File</h5>
                                <!-- <input pInputText [style]="{'minWidth':'100%'}" class="text-center font-bold mr-2 mb-1"
                                    [(ngModel)]="filename" placeholder="file name" /> -->
                                <input id="file" [style]="{'minWidth':'100%'}" class="form-control form-control-sm" #myInput
                                    (change)="onUploadFile($event)" type="file" />
                            </div> 
                            <div class="flex col-12 flex-column max-w-full gap-2"> 
                                <div class="flex align-items-center " *ngFor="let item of list_file" > 
                                        <i class="pi pi-paperclip" *ngIf="item.url"></i>
                                        <div class="text-900 font-semibold block ml-2" *ngIf="item.url"><a target="_blank"
                                                [href]="item.url">{{item.file_name}} </a></div>
                                        <i (click)="removeItem(item.url)" class="pi pi-trash cursor_pointer ml-4"  style="color: red;" *ngIf="item.url"></i>
                                   
                                </div>
    
                            </div>
    
                        </div>

                    </div>
                </div> 

                <div class="col-12">
                    <h6>Status</h6>   
                    <!-- {{data.status|json}}    -->
                    <p-dropdown [style]="{ minWidth: '100%' }" [options]="statuses" (onChange)="selectStatus($event)"  [(ngModel)]="data.status"
                        placeholder="Any" optionLabel="title" optionValue="value" [showClear]="false" appendTo="body">

                        <ng-template let-item pTemplate="item">
                            <div class="flex align-items-center gap-2">
                                <div>
                                    <p-tag [severity]="getSeverity(item.value)" [value]="item.title"></p-tag>
                                </div>
                            </div>
                        </ng-template> 
                    </p-dropdown>

                </div>
            </div>
        </div>
    </div>
    <div class="col-12">
        <div class="card flex-col gap-4">
            <div class="flex align-items-center gap-4">
                <p-chip class="font-bold" label="Description"></p-chip>
                <button
                    pButton
                    type="button"
                    pTooltip="Hide Filter"
                    pStyleClass=".boxDesc"
                    enterClass="hidden"
                    enterActiveClass="fadeinup"
                    (click)="showDescript()"
                    tooltipPosition="top"
                    icon="pi pi-eye-slash"
                    class="p-button-success p-button-sm"
                    [ngStyle]="{ display: !showDescription ? 'none' : 'flex' }"
                ></button>

                <button
                    pButton
                    type="button"
                    pTooltip="Show Filter"
                    (click)="showDescript()"
                    tooltipPosition="top"
                    icon="pi pi-eye"
                    class="p-button-warning p-button-sm"
                    pStyleClass=".boxDesc"
                    leaveActiveClass="fadeoutup"
                    leaveToClass="hidden"
                    [ngStyle]="{ display: showDescription ? 'none' : 'flex' }"
                ></button>
            </div>

            <div *ngIf="showDescription" class="animation-duration-500 boxDesc">
                <angular-editor
                    [placeholder]="'Enter text here...'"
                    [(ngModel)]="data.html_content"
                    [config]="editorConfig"
                ></angular-editor>
            </div>
        </div>
        <div class="col-12">
            <button
                pButton
                pRipple
                [label]="actionDetails == 'create' ? 'CREATE' : 'UPDATE'"
                (click)="action()"
                class="p-button-success w-full"
            ></button>
        </div>
    </div>
</div>
